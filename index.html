<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CDW Pool Quest â€” Splash</title>
<meta name="theme-color" content="#f06a1f">
<style>
  :root{ --orange:#f06a1f; --blue:#0f5f99; --yellow:#f4c027; --ink:#0c2b3a; }
  html,body{height:100%;margin:0}
  body{font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;background:var(--orange);color:#042436;}
  .splash{display:grid;place-items:center;height:100%;padding:24px;box-sizing:border-box}
  .card{background:#fff3; border:2px solid #0002; backdrop-filter: blur(10px);
        border-radius:20px; padding:28px; max-width:520px; text-align:center; color:#032;
        box-shadow: 0 20px 40px #0003;}
  h1{margin:0 0 10px;font-size: clamp(28px, 5vw, 40px); color:#041f2b}
  p{margin:6px 0 16px; line-height:1.3}
  .btn{background:#fff; border:0; padding:14px 18px; border-radius:999px; font-weight:700; cursor:pointer}
  .exit{ position:fixed; right:14px; top:14px; display:none; }
  .fade{ opacity:0; transform: translateY(8px); transition:.35s ease-in-out }
  .fade.show{ opacity:1; transform:none }
</style>
</head>
<body>
  <button id="exitBtn" class="btn exit">Exit</button>
  <div id="splash" class="splash">
    <div class="card fade">
      <h1>CDW Swim Quest Passport</h1>
      <p>Tap to open your Harbour Pools passport.</p>
      <button class="btn" id="openBtn">Open</button>
    </div>
  </div>
<script>
let splash = document.getElementById('splash');
let openBtn = document.getElementById('openBtn');
let exitBtn = document.getElementById('exitBtn');
let iframe = null;

function openApp(){
  if(iframe) return;
  iframe = document.createElement('iframe');
  iframe.src = 'app.html';
  iframe.style.cssText = 'position:fixed;inset:0;border:0;width:100%;height:100%';
  document.body.appendChild(iframe);
  splash.classList.add('fade');
  setTimeout(()=>{
    splash.style.display='none';
    exitBtn.style.display='block';
  },200);
}
function exitToSplash(){
  if(iframe){iframe.remove();iframe=null;}
  splash.style.display='grid';
  splash.querySelector('.card').classList.remove('show');
  exitBtn.style.display='none';
  setTimeout(()=>splash.querySelector('.card').classList.add('show'),50);
}
openBtn.addEventListener('click', openApp);
exitBtn.addEventListener('click', exitToSplash);
window.addEventListener('message', (e)=>{
  if(e && e.data && e.data.type==='WADS_EXIT'){ exitToSplash(); }
});
// entry animation
setTimeout(()=>splash.querySelector('.card').classList.add('show'),30);
</script>
</body>
</html>
